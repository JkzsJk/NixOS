= Common Module =

Shared configuration across all hosts.

== Structure ==

<pre>
00-common/
  ├─ default.nix        - Entry point (imports all modules)
  ├─ 01-packages.nix    - Common system packages
  ├─ 02-shell.nix       - Shell configurations (zsh, bash, fish)
  ├─ 03-system.nix      - Nix configuration and auto-upgrades
  ├─ 04-users.nix       - Home Manager user configurations
  ├─ 05-vivaldi.nix     - Default browser is Vivaldi & its configuration
  ├─ 06-rquickshare.nix - RQuickShare file sharing configuration
  └─ 07-localsend.nix   - LocalSend file transfer configuration
</pre>

== Modules ==

=== 01-packages.nix ===
* Core utilities (vim, wget, curl, git, tmux, openssh)
* Desktop applications (Vivaldi, VS Code, Warp Terminal)
* CLI tools (rquickshare, zoxide, fzf, home-manager, pciutils)
* Cloud/Container tools (k9s, cloudlens)
* Shell customization (starship prompt)

=== 02-shell.nix ===
* Sets Zsh as default shell
* Configures Zsh, Bash, and Fish with:
** fzf (fuzzy finder)
** zoxide (smart cd replacement)
** Starship prompt

=== 03-system.nix ===
* Enables unfree packages
* Configures Nix experimental features (flakes, nix-command)
* Automatic system upgrades:
** Daily updates at 04:00
** Updates nixpkgs channel
** Auto-commits flake lock file
** Runs missed upgrades on boot
* Automatic garbage collection:
** Runs every 14 days
** Deletes generations older than 14 days
** Keeps maximum 10 boot generations
* Automatic store optimization (runs daily)

=== 04-users.nix ===
* Home Manager configuration for user <code>jason</code>
* User-specific packages (btop)
* Editor settings (Vim as default)
* Terminal settings (Warp)
* Git configuration
* Starship prompt configuration (shared across all users)

=== 05-vivaldi.nix ===
* Sets Vivaldi as default browser
* Configures XDG MIME associations for web protocols

=== 06-rquickshare.nix ===
* Wraps RQuickShare with <code>WEBKIT_DISABLE_COMPOSITING_MODE=1</code>
* Configures static port (65535)
* Auto-creates settings file for all users
* Opens firewall ports for local network file sharing (TCP 65535, UDP 5353)
* Enables mDNS for device discovery
* Received files go directly into <code>/home</code>, i.e. <code>downloadPath = "${config.home.homeDirectory}/Downloads";</code> isn't working currently

=== 07-localsend.nix ===
* Installs LocalSend for cross-platform file transfers
* Opens firewall ports (TCP/UDP 53317)
* Enables multicast discovery on local network